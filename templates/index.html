{% extends 'base.html' %}

{% block title %}Muhammad Hanzala - Full Stack Developer & Digital Creator{% endblock %}

{% block content %}
<!-- Hero Section with Profile Photo -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content">
            <div class="hero-image reveal-text">
                <img src="{{ url_for('static', filename='img/profile.jpg') }}" alt="Muhammad Hanzala">
            </div>
            <div class="hero-text reveal-text">
                <p class="section-label">Welcome to my Portfolio</p>
                <h1>Hi, I'm <span class="gradient-text">Muhammad Hanzala</span></h1>
                <p class="tagline">Full Stack Developer & Digital Creator</p>
                <p class="lead">I craft high-performance web applications, stunning 3D visuals, and engaging digital
                    experiences. Some people call me Hani.</p>

                <div class="hero-cta">
                    <a href="{{ url_for('main.projects') }}" class="btn btn-primary btn-lg">
                        <i class="fas fa-briefcase"></i> View My Work
                    </a>
                    <a href="{{ url_for('main.contact') }}" class="btn btn-secondary btn-lg">
                        <i class="fas fa-envelope"></i> Get In Touch
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="section">
    <div class="container">
        <div class="d-flex flex-wrap gap-4 justify-content-center">
            <div class="glass-panel stat-card tilt-card" style="flex: 1; min-width: 250px; max-width: 300px;">
                <i class="fas fa-code"></i>
                <h3>2+</h3>
                <p>Years Experience</p>
            </div>
            <div class="glass-panel stat-card tilt-card" style="flex: 1; min-width: 250px; max-width: 300px;">
                <i class="fas fa-project-diagram"></i>
                <h3>20+</h3>
                <p>Projects Completed</p>
            </div>
            <div class="glass-panel stat-card tilt-card" style="flex: 1; min-width: 250px; max-width: 300px;">
                <i class="fas fa-smile"></i>
                <h3>100%</h3>
                <p>Client Satisfaction</p>
            </div>
        </div>
    </div>
</section>

<!-- Featured Projects -->
<section class="section">
    <div class="container">
        <div class="section-header">
            <span class="section-label">Portfolio</span>
            <h2>Featured Works</h2>
        </div>

        <div class="d-flex flex-wrap gap-4">
            {% for project in featured_projects %}
            <div style="flex: 1; min-width: 300px; max-width: 400px;">
                <a href="{{ url_for('main.project_detail', project_id=project.id) }}" style="text-decoration: none;">
                    <div class="glass-panel project-card">
                        <div class="project-img-wrapper">
                            {% if project.image %}
                            <img src="{{ url_for('static', filename=project.image) }}" alt="{{ project.title }}">
                            {% else %}
                            <div
                                style="width: 100%; height: 100%; background: var(--bg-tertiary); display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-image" style="font-size: 3rem; color: var(--text-muted);"></i>
                            </div>
                            {% endif %}
                            <div class="overlay">
                                <span class="btn btn-primary rounded-circle" style="width: 48px; height: 48px;">
                                    <i class="fas fa-eye"></i>
                                </span>
                            </div>
                        </div>
                        <div class="p-3">
                            <span class="section-label" style="font-size: 0.7rem; padding: 4px 12px;">
                                {{ project.category.name if project.category else 'Project' }}
                            </span>
                            <h4 class="mt-2" style="color: var(--text-primary);">{{ project.title }}</h4>
                            <p class="text-muted" style="font-size: 0.9rem; margin: 0;">
                                {{ project.short_description|truncate(80) if project.short_description else '' }}
                            </p>
                        </div>
                    </div>
                </a>
            </div>
            {% else %}
            <div class="text-center w-100">
                <p class="text-muted">No projects yet. Add some from the admin panel!</p>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-5">
            <a href="{{ url_for('main.projects') }}" class="btn btn-secondary">
                View All Projects <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
</section>

<!-- Services Section -->
<section class="section" style="background: var(--bg-secondary);">
    <div class="container">
        <div class="section-header">
            <span class="section-label">Services</span>
            <h2>What I Offer</h2>
        </div>

        <div class="d-flex flex-wrap gap-4 justify-content-center">
            {% for service in services %}
            <div style="flex: 1; min-width: 280px; max-width: 350px;">
                <div class="glass-panel service-card hover-glow-violet">
                    <div class="icon-wrapper">
                        <i class="{{ service.icon if service.icon else 'fas fa-cog' }}"></i>
                    </div>
                    <h4>{{ service.title }}</h4>
                    <p class="text-muted">{{ service.short_description }}</p>
                    <a href="{{ url_for('main.services') }}" class="btn btn-secondary btn-sm w-100">
                        View Details
                    </a>
                </div>
            </div>
            {% else %}
            <div class="text-center w-100">
                <p class="text-muted">Services coming soon!</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Platform Showcase Section (Fiverr, Upwork, LinkedIn) -->
<section class="section">
    <div class="container">
        <div class="section-header">
            <span class="section-label">Find Me On</span>
            <h2>Platform Showcase</h2>
        </div>

        <div class="row g-4 justify-content-center">
            {% for platform in external_platforms %}
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                <a href="{{ platform.url }}" target="_blank" class="text-decoration-none">
                    <div class="glass-panel platform-card h-100 p-0 overflow-hidden hover-lift">
                        <div class="platform-header p-3 d-flex align-items-center justify-content-between" style="background: rgba(255,255,255,0.05);">
                            <span class="platform-badge {% if platform.platform_name == 'Fiverr' %}bg-fiverr{% elif platform.platform_name == 'Upwork' %}bg-primary{% else %}bg-linkedin{% endif %} btn-sm text-white px-3 py-1 rounded-pill" style="font-size: 0.7rem; font-weight: bold;">
                                {{ platform.platform_name }}
                            </span>
                            <div class="rating-stars text-warning">
                                <i class="fas fa-star"></i> {{ platform.rating }} <span class="text-muted small">({{ platform.reviews_count }}+)</span>
                            </div>
                        </div>
                        
                        <div class="platform-thumb" style="height: 200px; overflow: hidden; position: relative;">
                            {% if platform.thumbnail %}
                            <img src="{{ url_for('static', filename=platform.thumbnail) }}" alt="{{ platform.title }}" class="w-100 h-100 object-fit-cover transition-transform">
                            {% else %}
                            <div class="w-100 h-100 d-flex align-items-center justify-content-center bg-dark text-white-50">
                                <i class="fas fa-external-link-alt fa-3x"></i>
                            </div>
                            {% endif %}
                            <div class="platform-overlay">
                                <span class="btn btn-glass btn-sm rounded-pill">View Service</span>
                            </div>
                        </div>

                        <div class="p-4">
                            <h4 class="h5 mb-2 text-primary">{{ platform.title }}</h4>
                            <p class="text-muted small mb-0">{{ platform.description|truncate(120) }}</p>
                            <div class="mt-3 d-flex align-items-center gap-2">
                                <span class="badge bg-secondary opacity-75 font-weight-normal" style="font-weight: 400;">{{ platform.service_type }}</span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {% else %}
            <div class="text-center w-100 py-5">
                <p class="text-muted">No external platforms linked yet.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="section">
    <div class="container">
        <div class="glass-panel text-center p-5">
            <h2>Ready to Start a Project?</h2>
            <p class="lead mb-4">Let's create something amazing together. I'm available for freelance projects.</p>
            <div class="d-flex gap-3 justify-content-center flex-wrap">
                <a href="{{ url_for('main.contact') }}" class="btn btn-primary btn-lg">
                    <i class="fas fa-rocket"></i> Start a Project
                </a>
                <a href="https://www.fiverr.com/mr0_0hani" target="_blank" class="btn btn-secondary">
                    <i class="fab fa-square"></i> Hire on Fiverr
                </a>
                <a href="https://www.upwork.com/" target="_blank" class="btn btn-secondary">
                    <i class="fab fa-square"></i> Hire on Upwork
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Typed.js for tagline
    if (typeof Typed !== 'undefined' && document.getElementById('typed-tagline')) {
        new Typed('#typed-tagline', {
            strings: ['Web Applications', '3D Experiences', 'Digital Magic', 'Scalable Apps'],
            typeSpeed: 50,
            backSpeed: 30,
            loop: true
        });
    }
</script>
{% endblock %}